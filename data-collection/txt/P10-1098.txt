










































Bootstrapping Semantic Analyzers from Non-Contradictory Texts


Proceedings of the 48th Annual Meeting of the Association for Computational Linguistics, pages 958–967,
Uppsala, Sweden, 11-16 July 2010. c©2010 Association for Computational Linguistics

Bootstrapping Semantic Analyzers from Non-Contradictory Texts

Ivan Titov Mikhail Kozhevnikov
Saarland University

Saarbrücken, Germany
{titov|m.kozhevnikov}@mmci.uni-saarland.de

Abstract

We argue that groups of unannotated texts
with overlapping and non-contradictory
semantics represent a valuable source of
information for learning semantic repre-
sentations. A simple and efficient infer-
ence method recursively induces joint se-
mantic representations for each group and
discovers correspondence between lexical
entries and latent semantic concepts. We
consider the generative semantics-text cor-
respondence model (Liang et al., 2009)
and demonstrate that exploiting the non-
contradiction relation between texts leads
to substantial improvements over natu-
ral baselines on a problem of analyzing
human-written weather forecasts.

1 Introduction

In recent years, there has been increasing inter-
est in statistical approaches to semantic parsing.
However, most of this research has focused on su-
pervised methods requiring large amounts of la-
beled data. The supervision was either given in
the form of meaning representations aligned with
sentences (Zettlemoyer and Collins, 2005; Ge and
Mooney, 2005; Mooney, 2007) or in a some-
what more relaxed form, such as lists of candidate
meanings for each sentence (Kate and Mooney,
2007; Chen and Mooney, 2008) or formal repre-
sentations of the described world state for each
text (Liang et al., 2009). Such annotated resources
are scarce and expensive to create, motivating the
need for unsupervised or semi-supervised tech-
niques (Poon and Domingos, 2009). However,
unsupervised methods have their own challenges:
they are not always able to discover semantic
equivalences of lexical entries or logical forms or,
on the contrary, cluster semantically different or
even opposite expressions (Poon and Domingos,

2009). Unsupervised approaches can only rely on
distributional similarity of contexts (Harris, 1968)
to decide on semantic relatedness of terms, but this
information may be sparse and not reliable (Weeds
and Weir, 2005). For example, when analyzing
weather forecasts it is very hard to discover in an
unsupervised way which of the expressions among
“south wind”, “wind from west” and “southerly”
denote the same wind direction and which are not,
as they all have a very similar distribution of their
contexts. The same challenges affect the problem
of identification of argument roles and predicates.

In this paper, we show that groups of unanno-
tated texts with overlapping and non-contradictory
semantics provide a valuable source of informa-
tion. This form of weak supervision helps to
discover implicit clustering of lexical entries and
predicates, which presents a challenge for purely
unsupervised techniques. We assume that each
text in a group is independently generated from
a full latent semantic state corresponding to the
group. Importantly, the texts in each group do
not have to be paraphrases of each other, as they
can verbalize only specific parts (aspects) of the
full semantic state, yet statements about the same
aspects must not contradict each other. Simulta-
neous inference of the semantic state for the non-
contradictory and semantically overlapping docu-
ments would restrict the space of compatible hy-
potheses, and, intuitively, ‘easier’ texts in a group
will help to analyze the ‘harder’ ones.1

As an illustration of why this weak supervi-
sion may be valuable, consider a group of two
non-contradictory texts, where one text mentions
“2.2 bn GBP decrease in profit”, whereas another
one includes a passage “profit fell by 2.2 billion
pounds”. Even if the model has not observed

1This view on this form of supervision is evocative of co-
training (Blum and Mitchell, 1998) which, roughly, exploits
the fact that the same example can be ‘easy’ for one model
but ‘hard’ for another one.

958



Current temperature is about 70F,

with high of around 75F amd low

of around 64.

Overcast,

Rain is quite possible tonight,

as t-storms are.

South wind of around 19 mph.

2w

w1 3wA slight chance of showers 

Mostly cloudy,  

with a high near 75.

South wind between 15 and 20 mph,

Chance of precipitation is 30%.

with gusts as high as 30 mph.

and thunderstorms after noon.

Thunderstorms and pouring are possible

throughout the day,

with precipitation chance of about 25%.

possibly growing up to 75 F during the day,

as south wind blows at about 20 mph.

The sky is heavy.

It is 70 F now,

temperature (time = 6-21; min = 64, max = 75, mean = 70)

windDir(time=6-21,mode=S)

gust(time=6-21, min=0, max=29, mean=25)

precipPotential(time=6-21,min=20,max=32,mean=26)

thunderChance(time=6-21,mode=chance)

freezingRainChance(time=17-30,mode=--)

sleetChance(time='6-21',mode=--)

skycover(time=6-21,bucket=75-100)

windSpeed(time=6-21; min=14,max=22,mean=19, bucket=10-20)

rainChance(time=6-21,mode=chance)

windChill(time=6-21,min=0,max=0,mean=0)

                ......

Figure 1: An example of three non-contradictory weather forecasts and their alignment to the semantic
representation. Note that the semantic representation (the block in the middle) is not observable in
training.

the word “fell” before, it is likely to align these
phrases to the same semantic form because of sim-
ilarity of their arguments. And this alignment
would suggest that “fell” and “decrease” refer to
the same process, and should be clustered together.
This would not happen for the pair “fell” and “in-
crease” as similarity of their arguments would nor-
mally entail contradiction. Similarly, in the exam-
ple mentioned earlier, when describing a forecast
for a day with expected south winds, texts in the
group can use either “south wind” or “southerly”
to indicate this fact but no texts would verbalize
it as “wind from west”, and therefore these ex-
pressions will be assigned to different semantic
clusters. However, it is important to note that the
phrase “wind from west” may still appear in the
texts, but in reference to other time periods, un-
derlying the need for modeling alignment between
grouped texts and their latent meaning representa-
tion.

As much of the human knowledge is re-
described multiple times, we believe that non-
contradictory and semantically overlapping texts
are often easy to obtain. For example, consider
semantic analysis of news articles or biographies.
In both cases we can find groups of documents re-
ferring to the same events or persons, and though
they will probably focus on different aspects and
have different subjective passages, they are likely
to agree on the core information (Shinyama and
Sekine, 2003). Alternatively, if such groupings are
not available, it may still be easier to give each se-
mantic representation (or a state) to multiple an-
notators and ask each of them to provide a tex-
tual description, instead of annotating texts with
semantic expressions. The state can be communi-

cated to them in a visual or audio form (e.g., as
a picture or a short video clip) ensuring that their
interpretations are consistent.

Unsupervised learning with shared latent se-
mantic representations presents its own chal-
lenges, as exact inference requires marginalization
over possible assignments of the latent semantic
state, consequently, introducing non-local statisti-
cal dependencies between the decisions about the
semantic structure of each text. We propose a sim-
ple and fairly general approximate inference algo-
rithm for probabilistic models of semantics which
is efficient for the considered model, and achieves
favorable results in our experiments.

In this paper, we do not consider models
which aim to produce complete formal meaning
of text (Zettlemoyer and Collins, 2005; Mooney,
2007; Poon and Domingos, 2009), instead focus-
ing on a simpler problem studied in (Liang et al.,
2009). They investigate grounded language ac-
quisition set-up and assume that semantics (world
state) can be represented as a set of records each
consisting of a set of fields. Their model seg-
ments text into utterances and identifies records,
fields and field values discussed in each utter-
ance. Therefore, one can think of this problem as
an extension of the semantic role labeling prob-
lem (Carreras and Marquez, 2005), where predi-
cates (i.e. records in our notation) and their ar-
guments should be identified in text, but here ar-
guments are not only assigned to a specific role
(field) but also mapped to an underlying equiv-
alence class (field value). For example, in the
weather forecast domain field sky cover should get
the same value given expressions “overcast” and
“very cloudy” but a different one if the expres-

959



sions are “clear” or “sunny”. This model is hard
to evaluate directly as text does not provide in-
formation about all the fields and does not neces-
sarily provide it at the sufficient granularity level.
Therefore, it is natural to evaluate their model
on the database-text alignment problem (Snyder
and Barzilay, 2007), i.e. measuring how well the
model predicts the alignment between the text and
the observable records describing the entire world
state. We follow their set-up, but assume that in-
stead of having access to the full semantic state
for every training example, we have a very small
amount of data annotated with semantic states and
a larger number of unannotated texts with non-
contradictory semantics.

We study our set-up on the weather forecast
data (Liang et al., 2009) where the original textual
weather forecasts were complemented by addi-
tional forecasts describing the same weather states
(see figure 1 for an example). The average overlap
between the verbalized fields in each group of non-
contradictory forecasts was below 35%, and more
than 60% of fields are mentioned only in a single
forecast from a group. Our model, learned from
100 labeled forecasts and 259 groups of unanno-
tated non-contradictory forecasts (750 texts in to-
tal), achieved 73.9% F1. This compares favorably
with 69.1% shown by a semi-supervised learning
approach, though, as expected, does not reach the
score of the model which, in training, observed se-
mantics states for all the 750 documents (77.7%
F1).

The rest of the paper is structured as follows.
In section 2 we describe our inference algorithm
for groups of non-contradictory documents. Sec-
tion 3 redescribes the semantics-text correspon-
dence model (Liang et al., 2009) in the context of
our learning scenario. In section 4 we provide an
empirical evaluation of the proposed method. We
conclude in section 5 with an examination of ad-
ditional related work.

2 Inference with Non-Contradictory
Documents

In this section we will describe our inference
method on a higher conceptual level, not speci-
fying the underlying meaning representation and
the probabilistic model. An instantiation of the
algorithm for the semantics-text correspondence
model is given in section 3.2.

Statistical models of parsing can often be re-

garded as defining the probability distribution of
meaning m and its alignment a with the given
text w, P (m,a,w) = P (a,w|m)P (m). The
semantics m can be represented either as a logical
formula (see, e.g., (Poon and Domingos, 2009)) or
as a set of field values if database records are used
as a meaning representation (Liang et al., 2009).
The alignment a defines how semantics is verbal-
ized in the text w, and it can be represented by
a meaning derivation tree in case of full semantic
parsing (Poon and Domingos, 2009) or, e.g., by
a hierarchical segmentation into utterances along
with an utterance-field alignment in a more shal-
low variation of the problem. In semantic parsing,
we aim to find the most likely underlying seman-
tics and alignment given the text:

(m̂, â) = arg max
m,a

P (a,w|m)P (m). (1)

In the supervised case, where a and m are observ-
able, estimation of the generative model parame-
ters is generally straightforward. However, in a
semi-supervised or unsupervised case variational
techniques, such as the EM algorithm (Demp-
ster et al., 1977), are often used to estimate the
model. As common for complex generative mod-
els, the most challenging part is the computation
of the posterior distributions P (a,m|w) on the
E-step which, depending on the underlying model
P (m,a,w), may require approximate inference.

As discussed in the introduction, our goal is to
integrate groups of non-contradictory documents
into the learning procedure. Let us denote by
w1,...,wK a group of non-contradictory docu-
ments. As before, the estimation of the poste-
rior probabilities P (mi,ai|w1 . . .wK) presents
the main challenge. Note that the decision about
mi is now conditioned on all the texts wj rather
than only on wi. This conditioning is exactly what
drives learning, as the information about likely se-
mantics mj of text j affects the decision about
choice of mi:

P (mi|w1,...,wK) ∝
∑
ai

P (ai,wi|mi)×

×
∑

m−i,a−i

P (mi|m−i)P (m−i,a−i,w−i), (2)

where x−i denotes {xj : j 6= i}. P (mi|m−i)
is the probability of the semantics mi given all
the meanings m−i. This probability assigns zero
weight to inconsistent meanings, i.e. such mean-

960



ings (m1,...,mK) that ∧Ki=1mi is not satisfiable,2
and models dependencies between components in
the composite meaning representation (e.g., argu-
ments values of predicates). As an illustration, in
the forecast domain it may express that clouds, and
not sunshine, are likely when it is raining. Note,
that this probability is different from the probabil-
ity that mi is actually verbalized in the text.

Unfortunately, these dependencies between mi
and wj are non-local. Even though the dependen-
cies are only conveyed via {mj : j 6= i} the space
of possible meanings m is very large even for rela-
tively simple semantic representations, and, there-
fore, we need to resort to efficient approximations.

One natural approach would be to use a form
of belief propagation (Pearl, 1982; Murphy et al.,
1999), where messages pass information about
likely semantics between the texts. However, this
approach is still expensive even for simple mod-
els, both because of the need to represent distribu-
tions over m and also because of the large number
of iterations of message exchange needed to reach
convergence (if it converges).

An even simpler technique would be to parse
texts in a random order conditioning each mean-
ing m?k for k ∈ {1,...,K} on all the previous se-
mantics m?<k = m

?
1,...,m

?
k−1:

m?k = arg max
mk

P (wk|mk)P (mk|m?<k).

Here, and in further discussion, we assume that
the above search problem can be efficiently solved,
exactly or approximately. However, a major weak-
ness of this algorithm is that decisions about com-
ponents of the composite semantic representation
(e.g., argument values) are made only on the ba-
sis of a single text, which first mentions the cor-
responding aspects, without consulting any future
texts k′ > k, and these decisions cannot be revised
later.

We propose a simple algorithm which aims to
find an appropriate order of the greedy inference
by estimating how well each candidate semantics
m̂k would explain other texts and at each step se-
lecting k (and m̂k) which explains them best.

The algorithm, presented in figure 23, con-
structs an ordering of texts n = (n1,..., nK)

2Note that checking for satisfiability may be expensive or
intractable depending on the formalism.

3We slightly abuse notation by using set operations with
the lists n and m? as arguments. Also, for all the document
indices j we use j /∈ S to denote j ∈ {1,...,K}\S.

1: n := (), m? := ()
2: for i := 1 : K − 1 do
3: for j /∈ n do
4: m̂j := arg maxmj P (mj ,wj |m

?)
5: end for
6: ni := arg maxj /∈n P (m̂j ,wj |m?)×

×
∏
k/∈n∪{j}maxmk P (mk,wk|m?, m̂j)

7: m?i := m̂ni
8: end for
9: nK := {1,...,K}\n

10: m?K := arg maxmnK P (mnK ,wnK |m
?)

Figure 2: The approximate inference algorithm.

and corresponding meaning representations m? =
(m?1,...,m

?
K), where m

?
k is the predicted mean-

ing representation of text wnk . It starts with an
empty ordering n = () and an empty list of mean-
ings m? = () (line 1). Then it iteratively pre-
dicts meaning representations m̂j conditioned on
the list of semantics m? = (m?1,...,m

?
i−1) fixed

on the previous stages and does it for all the re-
maining texts wj (lines 3-5). The algorithm se-
lects a single meaning m̂j which maximizes the
probability of all the remaining texts and excludes
the text j from future consideration (lines 6-7).

Though the semantics mk (k /∈ n∪{j}) used in
the estimates (line 6) can be inconsistent with each
other, the final list of meanings m? is guaranteed
to be consistent. It holds because on each iteration
we add a single meaning m̂ni to m

? (line 7), and
m̂ni is guaranteed to be consistent with m

?, as the
semantics m̂ni was conditioned on the meaning
m? during inference (line 4).

An important aspect of this algorithm is that un-
like usual greedy inference, the remaining (‘fu-
ture’) texts do affect the choice of meaning rep-
resentations made on the earlier stages. As soon
as semantics m?k are inferred for every k, we find
ourselves in the set-up of learning with unaligned
semantic states considered in (Liang et al., 2009).

The induced alignments a1,...,aK of semantics
m? to texts w1,...,wK at the same time induce
alignments between the texts. The problem of pro-
ducing multiple sequence alignment, especially in
the context of sentence alignments, has been ex-
tensively studied in NLP (Barzilay and Lee, 2003).
In this paper, we use semantic structures as a pivot
for finding the best alignment in the hope that pres-
ence of meaningful text alignments will improve
the quality of the resulting semantic structures by
enforcing a form of agreement between them.

961



3 A Model of Semantics

In this section we redescribe the semantics-text
correspondence model (Liang et al., 2009) with an
extension needed to model examples with latent
states, and also explain how the inference algo-
rithm defined in section 2 can be applied to this
model.

3.1 Model definition

Liang et al. (2009) considered a scenario where
each text was annotated with a world state, even
though alignment between the text and the state
was not observable. This is a weaker form of
supervision than the one traditionally considered
in supervised semantic parsing, where the align-
ment is also usually provided in training (Chen and
Mooney, 2008; Zettlemoyer and Collins, 2005).
Nevertheless, both in training and testing the
world state is observable, and the alignment and
the text are conditioned on the state during infer-
ence. Consequently, there was no need to model
the distribution of the world state. This is differ-
ent for us, and we augment the generative story by
adding a simplistic world state generation step.

As explained in the introduction, the world
states s are represented by sets of records (see the
block in the middle of figure 1 for an example of
a world state). Each record is characterized by a
record type t ∈ {1,..., T}, which defines the set of
fields F (t). There are n(t) records of type t and
this number may change from document to docu-
ment. For example, there may be more than a sin-
gle record of type wind speed, as they may refer
to different time periods but all these records have
the same set of fields, such as minimal, maximal
and average wind speeds. Each field has an asso-
ciated type: in our experiments we consider only
categorical and integer fields. We write s(t)n,f = v
to denote that n-th record of type t has field f set
to value v.

Each document k verbalizes a subset of the en-
tire world state, and therefore semantics mk of
the document is an assignment to |mk| verbalized
fields: ∧|mk|q=1 (s

(tq)
nq ,fq

= vq), where tq, nq, fq are
the verbalized record types, records and fields, re-
spectively, and vq is the assigned field value. The
probability of meaning mk then equals the prob-
ability of this assignment with other state vari-
ables left non-observable (and therefore marginal-
ized out). In this formalism checking for con-
tradiction is trivial: two meaning representations

Figure 3: The semantics-text correspondence
model with K documents sharing the same latent
semantic state.

contradict each other if they assign different val-
ues to the same field of the same record.

The semantics-text correspondence model de-
fines a hierarchical segmentation of text: first, it
segments the text into fragments discussing differ-
ent records, then the utterances corresponding to
each record are further segmented into fragments
verbalizing specific fields of that record. An exam-
ple of a segmented fragment is presented in fig-
ure 4. The model has a designated null-record
which is aligned to words not assigned to any
record. Additionally there is a null-field in each
record to handle words not specific to any field.
In figure 3 the corresponding graphical model is
presented. The formal definition of the model for
documents w1,...,wK sharing a semantic state is
as follows:

• Generation of world state s:
– For each type τ ∈ {1,..., T} choose a number of

records of that type n(τ) ∼ Unif(1,..., nmax).
– For each record s(τ)n , n ∈ {1, .., n(τ)} choose

field values s(τ)nf for all fields f ∈ F
(τ) from the

type-specific distribution.
• Generation of the verbalizations, for each document

wk, k ∈ {1,...,K}:4
– Record Types: Choose a sequence of verbalized

record types t = (t1,..., t|t|) from the first-order
Markov chain.

– Records: For each type ti choose a verbalized
record ri from all the records of that type: l ∼
Unif(1,..., n(τ)), ri := s

(ti)
l .

– Fields: For each record ri choose a sequence of
verbalized fields f i = (fi1,..., fi|fi|) from the
first-order Markov chain (fij ∈ F (ti)).

– Length: For each field fij , choose length cij ∼
Unif(1,..., cmax).

– Words: Independently generate cij words from
the field-specific distribution P (w|fij , rifij ).

4We omit index k in the generative story and figure 3 to
simplify the notation.

962



Figure 4: A segmentation of a text fragment into records and fields.

Note that, when generating fields, the Markov
chain is defined over fields and the transition pa-
rameters are independent of the field values rifij .
On the contrary, when drawing a word, the distri-
bution of words is conditioned on the value of the
corresponding field.

The form of word generation distributions
P (w|fij , rifij ) depends on the type of the field
fi,j . For categorical fields, the distribution of
words is modeled as a distinct multinomial for
each field value. Verbalizations of numerical fields
are generated via a perturbation on the field value
rifij : the value rifij can be perturbed by either
rounding it (up or down) or distorting (up or down,
modeled by a geometric distribution). The param-
eters corresponding to each form of generation are
estimated during learning. For details on these
emission models, as well as for details on model-
ing record and field transitions, we refer the reader
to the original publication (Liang et al., 2009).

In our experiments, when choosing a world
state s, we generate the field values independently.
This is clearly a suboptimal regime as often there
are very strong dependencies between field val-
ues: e.g., in the weather domain many record
types contain groups of related fields defining min-
imal, maximal and average values of some param-
eter. Extending the method to model, e.g., pair-
wise dependencies between field values is rela-
tively straightforward.

As explained above, semantics of a text m is de-
fined by the assignment of state variables s. Anal-
ogously, an alignment a between semantics m
and a text w is represented by all the remaining
latent variables: by the sequence of record types
t = (t1,..., t|t|), choice of records ri for each ti,
the field sequence f i and the segment length cij
for every field fij .

3.2 Learning and inference

We select the model parameters θ by maximiz-
ing the marginal likelihood of the data, where
the data D is given in the form of groups w =

{w1,...,wK} sharing the same latent state:5

max
θ

∏
w∈D

∑
s

P (s)
∏
k

∑
r,f ,c

P (r,f , c,wk|s, θ).

To estimate the parameters, we use the
Expectation-Maximization algorithm (Dempster
et al., 1977). When the world state is observ-
able, learning does not require any approxima-
tions, as dynamic programming (a form of the
forward-backward algorithm) can be used to in-
fer the posterior distribution on the E-step (Liang
et al., 2009). However, when the state is latent,
dependencies are not local anymore, and approxi-
mate inference is required.

We use the algorithm described in section 2 (fig-
ure 2) to infer the state. In the context of the
semantics-text correspondence model, as we dis-
cussed above, semantics m defines the subset of
admissible world states. In order to use the algo-
rithm, we need to understand how the conditional
probabilities of the form P (m′|m) are computed,
as they play the key role in the inference proce-
dure (see equation (2)). If there is a contradiction
(m′⊥m) then P (m′|m) = 0, conversely, if m′
is subsumed by m (m → m′) then this proba-
bility is 1. Otherwise, P (m′|m) equals the prob-
ability of new assignments ∧|m

′\m|
q=1 (s

(t′q)

n′q ,f
′
q

= v′q)
(defined by m′\m) conditioned on the previously
fixed values of s (given by m). Summarizing,
when predicting the most likely semantics m̂j
(line 4), for each span the decoder weighs alter-
natives of either (1) aligning this span to the pre-
viously induced meaning m?, or (2) aligning it to
a new field and paying the cost of generation of its
value.

The exact computation of the most probable se-
mantics (line 4 of the algorithm) is intractable, and
we have to resort to an approximation. Instead
of predicting the most probable semantics m̂j we
search for the most probable pair (âj , m̂j), thus
assuming that the probability mass is mostly con-
centrated on a single alignment. The alignment aj

5For simplicity, we assume here that all the examples are
unlabeled.

963



is then discarded and not used in any other compu-
tations. Though the most likely alignment âj for
a fixed semantic representation m̂j can be found
efficiently using a Viterbi algorithm, computing
the most probable pair (âj , m̂j) is still intractable.
We use a modification of the beam search algo-
rithm, where we keep a set of candidate meanings
(partial semantic representations) and compute an
alignment for each of them using a form of the
Viterbi algorithm.

As soon as the meaning representations m? are
inferred, we find ourselves in the set-up studied
in (Liang et al., 2009): the state s is no longer
latent and we can run efficient inference on the
E-step. Though some fields of the state s may
still not be specified by m?, we prohibit utterances
from aligning to these non-specified fields.

On the M-step of EM the parameters are es-
timated as proportional to the expected marginal
counts computed on the E-step. We smooth the
distributions of values for numerical fields with
convolution smoothing equivalent to the assump-
tion that the fields are affected by distortion in the
form of a two-sided geometric distribution with
the success rate parameter equal to 0.67. We use
add-0.1 smoothing for all the remaining multino-
mial distributions.

4 Empirical Evaluation

In this section, we consider the semi-supervised
set-up, and present evaluation of our approach on
on the problem of aligning weather forecast re-
ports to the formal representation of weather.

4.1 Experiments

To perform the experiments we used a subset
of the weather dataset introduced in (Liang et
al., 2009). The original dataset contains 22,146
texts of 28.7 words on average, there are 12
types of records (predicates) and 36.0 records per
forecast on average. We randomly chose 100
texts along with their world states to be used as
the labeled data.6 To produce groups of non-
contradictory texts we have randomly selected a
subset of weather states, represented them in a vi-
sual form (icons accompanied by numerical and

6In order to distinguish from completely unlabeled exam-
ples, we refer to examples labeled with world states as la-
beled examples. Note though that the alignments are not ob-
servable even for these labeled examples. Similarly, we call
the models trained from this data supervised though full su-
pervision was not available.

symbolic parameters) and then manually anno-
tated these illustrations. These newly-produced
forecasts, when combined with the original texts,
resulted in 259 groups of non-contradictory texts
(650 texts, 2.5 texts per group). An example of
such a group is given in figure 1.

The dataset is relatively noisy: there are incon-
sistencies due to annotation mistakes (e.g., number
distortions), or due to different perception of the
weather by the annotators (e.g., expressions such
as ‘warm’ or ‘cold’ are subjective). The overlap
between the verbalized fields in each group was
estimated to be below 35%. Around 60% of fields
are mentioned only in a single forecast from a
group, consequently, the texts cannot be regarded
as paraphrases of each other.

The test set consists of 150 texts, each corre-
sponding to a different weather state. Note that
during testing we no longer assume that docu-
ments share the state, we treat each document in
isolation. We aimed to preserve approximately the
same proportion of new and original examples as
we had in the training set, therefore, we combined
50 texts originally present in the weather dataset
with additional 100 newly-produced texts. We an-
notated these 100 texts by aligning each line to one
or more records,7 whereas for the original texts the
alignments were already present. Following Liang
et al. (2009) we evaluate the models on how well
they predict these alignments.

When estimating the model parameters, we fol-
lowed the training regime prescribed in (Liang et
al., 2009). Namely, 5 iterations of EM with a basic
model (with no segmentation or coherence mod-
eling), followed by 5 iterations of EM with the
model which generates fields independently and,
at last, 5 iterations with the full model. Only
then, in the semi-supervised learning scenarios,
we added unlabeled data and ran 5 additional it-
erations of EM.

Instead of prohibiting records from crossing
punctuation, as suggested by Liang et al. (2009),
in our implementation we disregard the words not
attached to specific fields (attached to the null-
field, see section 3.1) when computing spans of
records. To speed-up training, only a single record
of each type is allowed to be generated when run-
ning inference for unlabeled examples on the E-

7The text was automatically tokenized and segmented into
lines, with line breaks at punctuation characters. Information
about the line breaks is not used during learning and infer-
ence.

964



P R F1
Supervised BL 63.3 52.9 57.6

Semi-superv BL 68.8 69.4 69.1

Semi-superv, non-contr 78.8 69.5 73.9
Supervised UB 69.4 88.6 77.9

Table 1: Results (precision, recall and F1) on the
weather forecast dataset.

step of the EM algorithm, as it significantly re-
duces the search space. Similarly, though we pre-
served all records which refer to the first time pe-
riod, for other time periods we removed all the
records which declare that the corresponding event
(e.g., rain or snowfall) is not expected to happen.
This preprocessing results in the oracle recall of
93%.

We compare our approach (Semi-superv, non-
contr) with two baselines: the basic supervised
training on 100 labeled forecasts (Supervised BL)
and with the semi-supervised training which disre-
gards the non-contradiction relations (Semi-superv
BL). The learning regime, the inference proce-
dure and the texts for the semi-supervised baseline
were identical to the ones used for our approach,
the only difference is that all the documents were
modeled as independent. Additionally, we report
the results of the model trained with all the 750
texts labeled (Supervised UB), its scores can be
regarded as an upper bound on the results of the
semi-supervised models. The results are reported
in table 1.

4.2 Discussion

Our training strategy results in a substantially
more accurate model, outperforming both the su-
pervised and semi-supervised baselines. Surpris-
ingly, its precision is higher than that of the model
trained on 750 labeled examples, though admit-
tedly it is achieved at a very different recall level.
The estimation of the model with our approach
takes around one hour on a standard desktop PC,
which is comparable to 40 minutes required to
train the semi-supervised baseline.

In these experiments, we consider the problem
of predicting alignment between text and the cor-
responding observable world state. The direct
evaluation of the meaning recognition (i.e. se-
mantic parsing) accuracy is not possible on this
dataset, as the data does not contain information
which fields are discussed. Even if it would pro-

value top words

0-25 clear, small, cloudy, gaps, sun

25-50 clouds, increasing, heavy, produce, could

50-75 cloudy, mostly, high, cloudiness, breezy

75-100 amounts, rainfall, inch, new, possibly

Table 2: Top 5 words in the word distribution for
field mode of record sky cover, function words and
punctuation are omitted.

vide this information, the documents do not ver-
balize the state at the necessary granularity level
to predict the field values. For example, it is not
possible to decide to which bucket of the field sky
cover the expression ‘cloudy’ refers to, as it has a
relatively uniform distribution across 3 (out of 4)
buckets. The problem of predicting text-meaning
alignments is interesting in itself, as the extracted
alignments can be used in training of a statisti-
cal generation system or information extractors,
but we also believe that evaluation on this prob-
lem is an appropriate test for the relative compar-
ison of the semantic analyzers’ performance. Ad-
ditionally, note that the success of our weakly-
supervised scenario indirectly suggests that the
model is sufficiently accurate in predicting seman-
tics of an unlabeled text, as otherwise there would
be no useful information passed in between se-
mantically overlapping documents during learning
and, consequently, no improvement from sharing
the state.8

To confirm that the model trained by our ap-
proach indeed assigns new words to correct fields
and records, we visualize top words for the field
characterizing sky cover (table 2). Note that the
words “sun”, “cloudiness” or “gaps” were not ap-
pearing in the labeled part of the data, but seem to
be assigned to correct categories. However, cor-
relation between rain and overcast, as also noted
in (Liang et al., 2009), results in the wrong assign-
ment of the rain-related words to the field value
corresponding to very cloudy weather.

5 Related Work

Probably the most relevant prior work is an ap-
proach to bootstrapping lexical choice of a gen-
eration system using a corpus of alternative pas-

8We conducted preliminary experiments on synthetic data
generated from a random semantic-correspondence model.
Our approach outperformed the baselines both in predicting
‘text’-state correspondence and in the F1 score on the pre-
dicted set of field assignments (‘text meanings’).

965



sages (Barzilay and Lee, 2002), however, in their
work all the passages were annotated with un-
aligned semantic expressions. Also, they as-
sumed that the passages are paraphrases of each
other, which is stronger than our non-contradiction
assumption. Sentence and text alignment has
also been considered in the related context of
paraphrase extraction (see, e.g., (Dolan et al.,
2004; Barzilay and Lee, 2003)) but this prior
work did not focus on inducing or learning se-
mantic representations. Similarly, in information
extraction, there have been approaches for pat-
tern discovery using comparable monolingual cor-
pora (Shinyama and Sekine, 2003) but they gener-
ally focused only on discovery of a single pattern
from a pair of sentences or texts.

Radev (2000) considered types of potential rela-
tions between documents, including contradiction,
and studied how this information can be exploited
in NLP. However, this work considered primarily
multi-document summarization and question an-
swering problems.

Another related line of research in machine
learning is clustering or classification with con-
straints (Basu et al., 2004), where supervision is
given in the form of constraints. Constraints de-
clare which pairs of instances are required to be
assigned to the same class (or required to be as-
signed to different classes). However, we are not
aware of any previous work that generalized these
methods to structured prediction problems, as triv-
ial equality/inequality constraints are probably too
restrictive, and a notion of consistency is required
instead.

6 Summary and Future Work

In this work we studied the use of weak supervi-
sion in the form of non-contradictory relations be-
tween documents in learning semantic represen-
tations. We argued that this type of supervision
encodes information which is hard to discover in
an unsupervised way. However, exact inference
for groups of documents with overlapping seman-
tic representation is generally prohibitively expen-
sive, as the shared latent semantics introduces non-
local dependences between semantic representa-
tions of individual documents. To combat it, we
proposed a simple iterative inference algorithm.
We showed how it can be instantiated for the
semantics-text correspondence model (Liang et
al., 2009) and evaluated it on a dataset of weather

forecasts. Our approach resulted in an improve-
ment over the scores of both the supervised base-
line and of the traditional semi-supervised learn-
ing.

There are many directions we plan on inves-
tigating in the future for the problem of learn-
ing semantics with non-contradictory relations. A
promising and challenging possibility is to con-
sider models which induce full semantic represen-
tations of meaning. Another direction would be
to investigate purely unsupervised set-up, though
it would make evaluation of the resulting method
much more complex. One potential alternative
would be to replace the initial supervision with a
set of posterior constraints (Graca et al., 2008) or
generalized expectation criteria (McCallum et al.,
2007).

Acknowledgements

The authors acknowledge the support of the Excel-
lence Cluster on Multimodal Computing and Inter-
action (MMCI). Thanks to Alexandre Klementiev,
Alexander Koller, Manfred Pinkal, Dan Roth, Car-
oline Sporleder and the anonymous reviewers for
their suggestions, and to Percy Liang for answer-
ing questions about his model.

References
Regina Barzilay and Lillian Lee. 2002. Bootstrap-

ping lexical choice via multiple-sequence align-
ment. In Proceedings of the Conference on Em-
pirical Methods in Natural Language Processing
(EMNLP), pages 164–171.

Regina Barzilay and Lillian Lee. 2003. Learning
to paraphrase: An unsupervised approach using
multiple-sequence alignment. In Proceedings of the
Conference on Human Language Technology and
North American chapter of the Association for Com-
putational Linguistics (HLT-NAACL).

Sugatu Basu, Arindam Banjeree, and Raymond
Mooney. 2004. Active semi-supervision for pair-
wise constrained clustering. In Proc. of the SIAM
International Conference on Data Mining (SDM),
pages 333–344.

A. Blum and T. Mitchell. 1998. Combining labeled
and unlabeled data with co-training. In COLT: Pro-
ceedings of the Workshop on Computational Learn-
ing Theory, Morgan Kaufmann Publishers, pages
209–214.

Xavier Carreras and Lluis Marquez. 2005. Introduc-
tion to the conll-2005 shared task: Semantic role la-
beling. In Proceedings of CoNLL-2005, Ann Arbor,
MI USA.

966



David L. Chen and Raymond L. Mooney. 2008. Learn-
ing to sportcast: A test of grounded language acqui-
sition. In Proc. of International Conference on Ma-
chine Learning, pages 128–135.

A. P. Dempster, N. M. Laird, and D. B. Rubin. 1977.
Maximum likelihood from incomplete data via the
EM algorithms. Journal of the Royal Statistical So-
ciety. Series B (Methodological), 39(1):1–38.

P. Diaconis and B. Efron. 1983. Computer-intensive
methods in statistics. Scientific American, pages
116–130.

Bill Dolan, Chris Quirk, and Chris Brockett. 2004.
Unsupervised construction of large paraphrase cor-
pora: Exploiting massively parallel news sources.
In Proceedings of the Conference on Computational
Linguistics (COLING), pages 350–356.

Ruifang Ge and Raymond J. Mooney. 2005. A sta-
tistical semantic parser that integrates syntax and
semantics. In Proceedings of the Ninth Confer-
ence on Computational Natural Language Learning
(CONLL-05), Ann Arbor, Michigan.

Joao Graca, Kuzman Ganchev, and Ben Taskar. 2008.
Expectation maximization and posterior constraints.
Advances in Neural Information Processing Systems
20 (NIPS).

Zellig Harris. 1968. Mathematical structures of lan-
guage. Wiley.

Rohit J. Kate and Raymond J. Mooney. 2007. Learn-
ing language semantics from ambigous supervision.
In Association for the Advancement of Artificial In-
telligence (AAAI), pages 895–900.

Percy Liang, Michael I. Jordan, and Dan Klein. 2009.
Learning semantic correspondences with less super-
vision. In Proc. of the Annual Meeting of the Asso-
ciation for Computational Linguistics and Interna-
tional Joint Conference on Natural Language Pro-
cessing (ACL-IJCNLP).

Andrew McCallum, Gideon Mann, and Gregory
Druck. 2007. Generalized expectation criteria.
Technical Report TR 2007-60, University of Mas-
sachusetts, Amherst, MA.

Raymond J. Mooney. 2007. Learning for semantic
parsing. In Proceedings of the 8th International
Conference on Computational Linguistics and Intel-
ligent Text Processing, pages 982–991.

Kevin P. Murphy, Yair Weiss, and Michael I. Jordan.
1999. Loopy belief propagation for approximate in-
ference: An empirical study. In Proc. of Uncertainty
in Artificial Intelligence (UAI), pages 467–475.

Judea Pearl. 1982. Reverend bayes on inference en-
gines: A distributed hierarchical approach. In Proc.
of the National Conference on Artificial Intelligence
(AAAI), pages 133–136.

Hoifung Poon and Pedro Domingos. 2009. Unsuper-
vised semantic parsing. In Proceedings of the 2009
Conference on Empirical Methods in Natural Lan-
guage Processing, (EMNLP-09).

Dragomir Radev. 2000. A common theory of infor-
mation fusion from multiple text sources step one:
Cross-document structure. In 1st SIGdial Workshop
on Discourse and Dialogue, pages 74–83.

Yusuke Shinyama and Satoshi Sekine. 2003. Para-
phrase acquisition for information extraction. In
Proceedings of Second International Workshop on
Paraphrasing (IWP2003), pages 65–71.

Benjamin Snyder and Regina Barzilay. 2007.
Database-text alignment via structured multilabel
classification. In Proceedings of International Joint
Conference on Artificial Intelligence (IJCAI-05),
pages 1713–1718.

J. Weeds and W. Weir. 2005. Co-occurrence retrieval:
A flexible framework for lexical distributional simi-
larity. Computational Linguistics, 31(4):439–475.

Luke Zettlemoyer and Michael Collins. 2005. Learn-
ing to map sentences to logical form: Structured
classification with probabilistic categorial grammar.
In Proceedings of the Twenty-first Conference on
Uncertainty in Artificial Intelligence, Edinburgh,
UK, August.

967


